pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
--paddle

padx = 52
pady = 122
padw = 24
padh = 4

--ball

ballx = 64
bally = 64
ballsize = 3
ballxdir = 5
ballydir = -3

score = 0
lives = 5


function movepaddle()
	if btn(0) then
		padx -= 3
	elseif btn(1) then 
		padx += 3
	end 
end

function moveball()
	ballx += ballxdir
	bally += ballydir
end


function looseball()

	if bally > 128 - ballsize then
		if lives > 0 then
			lives = lives - 1
			sfx(2)
			bally = 24
		else
			ballydir = 0
			ballxdir = 0
			bally = 64			
		end
	end
	
end

function bounceball()

--left

	if ballx < ballsize then
		ballxdir =- ballxdir
		sfx(0)	
	end

	if ballx > 128 - ballsize then
		ballxdir =- ballxdir
		sfx(0)
	end
	
	if bally < ballsize then
		ballydir =- ballydir
		sfx(0)
	end
	
end

function bouncepaddle()
	if ballx >= padx and ballx <= padx + padw and bally > pady then
		sfx(1)
		score += 1
		ballydir =- ballydir
	end
end
	
function _update()
	
	if lives > 0 then
	 bounceball()
	 movepaddle() 
	end
	moveball()	
	bouncepaddle()
	looseball()
		
end

function _draw()
	
	local go = "game over!"
	
	rectfill(0,0,128,128,3)
	
	for i = 1, lives do
		spr(001,80+i*8,6)
	end
	
	if lives == 0 then
			print(go,45,50,16)
	end
		
	print(score,12,6,15)
	
	rectfill(padx,pady,padx+padw,pady+padh,15)
	
	--draw the ball
	circfill(ballx, bally,ballsize,15)

end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000088088000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000088888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700008880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100000ca502b05014050130500ea50120501105001a5011050110500ca5002a5012a5003a5004a500aa5005a5012a5006a500aa5007a5011a5009a500aa5010a500aa500ba5012a500da5013a500ea5013a50
000300001515015150151501515015150151500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0005000017350163501435014350103500d3500735002350183500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
